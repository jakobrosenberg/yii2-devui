(function(a){a.fn.extend({embeddedHelp:function(y,h){function z(){var b,c={height:window.innerHeight,width:window.innerWidth};if(!c.height&&((b=document.compatMode)||!a.support.boxModel))b="CSS1Compat"==b?document.documentElement:document.body,c={height:b.clientHeight,width:b.clientWidth};return c}function A(){return{top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}}function v(){return{height:a(document).height(),
width:a(document).width()}}function D(a,c){var e=v();return(a>e.width/2?"L":"R")+(c>e.height/2?"T":"B")}function B(){a(".EHtoolgost").remove();a(".EHtooltipc").each(function(){var b=a(this),c=b.offset(),e=b.outerWidth(),d=b.outerHeight(),g=v(),f=z(),k=A(),h=k.top,k=k.left,m=h+f.height,t=k+f.width,r=b.find("span").html(),b=!1;if(g.width>f.width)var u=50,n=!0;else u=35,n=!1;g.height>f.height?(g=50,f=!0):(g=35,f=!1);c.top>m?(d=m-u,b=!0):!0==n&&c.top>m-20?(d=m-u,b=!0):c.top+d<h?(d=h,b=!0):d=c.top;c.left+
e<k?(c=k+10,b=!0):!0==f&&c.left+e<k-20?(c=k+10,b=!0):c.left>t?(c=t-g,b=!0):c=c.left;if(!0==b){var e=a("<div>").addClass("EHtoolgost").html("<span>"+r+"</span>").appendTo("body"),p=d,w=c,l=e.outerHeight(),j=e.outerWidth();z();A();var q=!1;a(".EHtoolgost").each(function(){var b=a(this).offset(),e=a(this).outerWidth(),d=a(this).outerHeight(),c=a(this).find("span").html();if(c!=r&&""!=c&&(w>=b.left&&w<=b.left+e||w+j>=b.left&&w+j<=b.left+e))if(p>=b.top&&p<=b.top+d||p+l>=b.top&&p+l<=b.top+d)a(this).find("span").html(c+
", "+r),q=!0});!0!=q&&e.attr("id","ghost_"+r).css("top",d+5+"px").css("left",c-5+"px").appendTo("body").fadeIn("slow")}});return!1}function G(){var b=a("#EHpointer"),c=b.offset(),e=b.height(),b=b.width(),d=z(),g=A(),f=g.top,g=g.left,h=f+d.height,j=g+d.width,m=v(),t=!1,r=!1,u=a.browser.opera?"html":"body,html";if(0<b){if(c.top+e>h){var n=f+d.height;n+d.height>m.height&&(n=m.height-d.height);f!=n&&(t=!0)}else c.top<f&&(n=f-d.height,0>n&&(n=0),f!=n&&(t=!0));if(c.left<g){var p=g-d.width;0>g&&(g=0);g!=
p&&(r=!0)}else c.left+b>j&&(p=g+d.width,p+d.width>m.width&&(p=m.width-d.width),g!=p&&(r=!0));!0==t&&!0!=l&&(l=!0,a(u).animate({scrollTop:n},"slow",function(){l=!1}));!0==r&&!0!=l&&(l=!0,a(u).animate({scrollLeft:p},"slow",function(){l=!1}))}return!1}function C(b){!0==h.callextf&&(""!=b.extf&&void 0!=b.extf)&&(a[b.extf]?(b.object=a(b.element),a[b.extf](b)):jQuery.globalEval(b.extf));return!1}function j(){clearInterval(E);x=null;a("#EHpointer").stop(!0);a("#EHtooltip").stop();a(".EHtooltmp").remove();
a("#EHtooltip").remove();a("#EHpointer").remove();a(".EHtooltipc").remove();a(".EHtoolgost").remove();a.isEmptyObject(y)||a.each(y,function(b,c){a.each(c.path,function(b,d){a(d.element).removeClass(d.marker)})});return!1}function F(b){a(".EHtooltipc").remove();a(".EHtooltmp").remove();v();a.isEmptyObject(b)||a.each(b,function(b,e){var d=a(e.element).offset(),g=a(e.element).height(),f=a(e.element).width(),f=d.left+f/2,d=d.top+g/2,g="<span>"+(b+1)+"</span>";tbalign=!0!=h.autoalign&&""!=e.align?e.align:
D(f+5,d+5);a("<div>").addClass("EHtooltipc").html(g).attr("rel",tbalign).attr("alt",e.desc).css("top",d+5+"px").css("left",f+5+"px").appendTo("body").fadeIn("slow");C(e)});return!0==h.staticvp?B():!1}var x,l,E;h=a.extend({animatedvp:!0,staticvp:!0,autoalign:!0,callextf:!0,autolinks:!0},h);return this.each(function(){var b=y,c=a(this),c=a("a[rel]",c);!0==h.autolinks&&(a.isEmptyObject(b)||a.each(b,function(b,d){a("#EHhelpBox").append("<a rel='"+d.rel+"' href=''>"+d.link+"</a><br/>")}));c.live("click",
function(){var e=a(this),d=a(this).attr("rel");j();a.isEmptyObject(b)||a.each(b,function(b,c){if(c.rel==d)if("animated"==c.method){var k=c.path,j=e.offset();v();var m=k.length;if(!a.isEmptyObject(k)){a("body").append("<div id='EHtooltip'></div>");a("body").append("<div id='EHpointer'></div>");a("#EHpointer").css("top",j.top+10+"px").css("left",j.left+10+"px").fadeIn("fast");var l=0;(function(){var b,c,e=k[l++],d=arguments.callee,f=a(e.element).offset(),g=a(e.element).height(),j=a(e.element).width(),
q=f.left+j/2,s=f.top+g/2,f=a("#EHpointer");b=f.height();c=f.width();a("#EHpointer").animate({left:q+"px",top:s+"px"},1E3,function(){a(e.element).addClass(e.marker);var d=a("#EHtooltip").css("width","auto");d.html(e.desc);"E"!=e.ftriger&&C(e);var f=d.width(),g=d.height();tbalign=!0!=h.autoalign&&""!=e.align?e.align:D(q+5,s+5);switch(tbalign){case "L":topset=s;leftset=q-f-5;break;case "LT":topset=s-g-5;leftset=q-f-5;break;case "LB":topset=s+g+5;leftset=q-f-5;break;case "R":topset=s;leftset=q+c+5;break;
case "RT":topset=s-5;leftset=q+c+5;break;case "RB":topset=s+b+5,leftset=q+c+5}d.css("top",topset+"px").css("left",leftset+"px").css("width",f+"px").fadeIn("fast").delay(e.duration).queue(function(){a(this).dequeue()})}).delay(e.duration).queue(function(){a(e.element).removeClass(e.marker);"E"==e.ftriger&&C(e);l>=m&&(a("#EHtooltip").remove(),a("#EHpointer").remove(),clearInterval());a(this).dequeue()}).fadeTo(1,1,d)})()}!0==h.animatedvp&&(E=setInterval(G,250))}else F(c.path),x=c.path});return!1});
a(".EHclose").live("click",function(){a(".EHtooltipc").fadeOut("slow").remove();j();return!1});a(".EHstopAll").live("click",function(){j();return!1});a(".EHtooltmp").live("mouseleave",function(){a(this).remove()});a(".EHtooltipc").live("mouseover",function(){a(".EHtooltmp").remove();var b=a(this).attr("rel"),d=a(this).offset(),c=a(this).outerWidth();a(this).outerHeight();var f=a(this).find("span").html(),f=x[f-1].desc;switch(b){case "L":case "LT":case "LB":b=a("<div>").addClass("EHtooltmp").html("<p>"+
f+"</p><a href='' class='EHclose'>X</a>").appendTo("body");tmpboxWidth=b.width();tmpboxHeight=b.height();b.css("top",d.top+"px").css("left",d.left-tmpboxWidth+"px").css("width",tmpboxWidth+"px").css("border-right","0px").fadeIn("slow");break;case "R":case "RT":case "RB":b=a("<div>").addClass("EHtooltmp").html("<p>"+f+"</p><a href='' class='EHclose'>X</a>").appendTo("body"),tmpboxWidth=b.width(),tmpboxHeight=b.height(),b.css("top",d.top+"px").css("left",d.left+c+"px").css("width",tmpboxWidth+"px").css("border-left",
"0px").fadeIn("slow")}});a(window).resize(function(){F(x);!0==h.staticvp&&B()});a(window).scroll(function(){!0==h.staticvp&&B()});a(window).keydown(function(a){("27"==a.keyCode||"27"==a.which)&&j()});a(document).keydown(function(a){("27"==a.keyCode||"27"==a.which)&&j()})})}})})(jQuery);
var ehelp_topics=[{rel:"interface",method:"animated",path:[{element:"#toolbarHolder",desc:"Application main menu. Hover your mouse over options to see various commands",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#dblist",desc:"List of databases on the server. Selection shows the database you are currently working with.",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#object_list",desc:"Database objects e.g. tables, views, functions are displayed here",duration:4E3,align:"LT",marker:"EHpointer"},
{element:"#screenContent",desc:"Content area contains query results, success/error messages and other information",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#sqlEditFrame",desc:"Multiple Sql Editors. You can switch between the editors by shortcuts keys to work with multiple queries without overwriting them",duration:6E3,align:"LT",marker:"EHpointer"},{element:"#nav_bar",desc:"Buttons for performing various result related operations.<br />As you work with results, additional buttons appear here based on the editing state of results",
duration:8E3,align:"LT",marker:"EHpointer"}]},{rel:"queries",method:"animated",path:[{element:"#sqlEditFrame",desc:"Type sql query in one of the sql editors, or select a part of the text to be executed as a query",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#nav_query",desc:"Click on the [Query] button, or press Ctrl+Enter to run the query",duration:3E3,align:"LT",marker:"EHpointer"},{element:"#nav_queryall",desc:"To execute multiple queries at once, Click [Query All] or press Ctrl+Shift+Enter",
duration:3E3,align:"LT",marker:"EHpointer"},{element:"#screenContent",desc:"Successful query results will show up in the result pane<br />If an error occurs, the error will be shown in the messages pane",duration:6E3,align:"LT",marker:"EHpointer"}]},{rel:"editing_results",method:"animated",path:[{element:"#screenContent",desc:"Once results appear in the results pane after a query or table selection, you can:<br />- Sort the results by clicking the column headers<br />- Use the checkboxes in second column to select records for deletion<br />- Double click a cell to edit its value<br />- Use the [Add Record] button to add a new record (which can be later saved by [Update records] button)",
duration:1E4,align:"R",marker:"EHpointer"},{element:"#nav_bar",desc:"Once you have selected/edited the records you want to update, use one of the buttons on the navigation bar to perform an operation",duration:5E3,align:"L",marker:"EHpointer"},{element:"#nav_bar",desc:"Press [Update records] to generate and execute update queries for edited records",duration:4E3,align:"L",marker:"EHpointer"},{element:"#nav_bar",desc:"Press [Delete records] to generate and execute queries to delete selected records",
duration:4E3,align:"L",marker:"EHpointer"},{element:"#nav_bar",desc:"Press [Generate SQL] to only generate update/delete queries. You can then inspect the generated sql text and execute as desired after any modification",duration:1E4,align:"L",marker:"EHpointer"},{element:"#screenContent",desc:"Success/error messages and affected records will be shown in the messages pane",duration:5E3,align:"L",marker:"EHpointer"}]},{rel:"objects",method:"animated",path:[{element:"#object_list",desc:"Click on any of the objects in the database to perform default action.<br />Clicking on tables/views shows their data in the results pane.<br />For other objects, their creation command is shown by default",
duration:1E4,align:"LT",marker:"EHpointer"},{element:"#object_list",desc:"Right click on any object to see a list of commands that can be performed on that object",duration:8E3,align:"LT",marker:"EHpointer"},{element:"#object_list",desc:"Some of the commands generate sql queries when executed, which are then automatically added to the first sql editor",duration:7E3,align:"LT",marker:"EHpointer"}]}],showEHelp=function(){$("body").append('<div id="EHhelpOverlay" class="ui-widget-overlay"></div><div id="EHhelpBox" class="ui-widget-header"><p class="title">Quickstart Tutorials</p><a rel="interface" href="#">Introduction to interface elements</a><a rel="queries" href="#">Performing queries</a><a rel="editing_results" href="#">Editing and saving results</a><a rel="objects" href="#">Working with database objects</a><a id="EHstopAll" class="EHstopAll" href="#">Close Tutorial</a></div>');
$("#EHhelpBox").embeddedHelp(ehelp_topics,{animatedvp:!0,staticvp:!0,autoalign:!0,autolinks:!1});$("#EHstopAll").click(function(){$("#EHhelpOverlay,#EHhelpBox").remove();$("#ehelp_css").remove()});$("#EHhelpBox").one("click",function(){$(this).animate({top:"3%",right:"3%"})})};
