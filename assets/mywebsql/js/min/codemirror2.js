window.CodeMirror=function(){function l(a,b){function c(d){(!j.onDragEvent||!j.onDragEvent(H,Za(d)))&&kb(d)}function e(d){return 0<=d&&d<v.size}function g(d){for(var a=v;!a.lines;)for(var n=0;;++n){var b=a.children[n],I=b.chunkSize();if(d<I){a=b;break}d-=I}return a.lines[d]}function k(d,a){oa=!0;for(var n=a-d.height,b=d;b;b=b.parent)b.height+=n}function q(d,a){d.styles||d.highlight(X,d.stateAfter=$a(pa(d)),j.tabSize);return d.getContent(j.tabSize,a,j.lineWrapping)}function h(d){var a={line:0,ch:0};
nc(a,{line:v.size-1,ch:g(v.size-1).text.length},lb(d),a,a);za=!0}function p(d){var a=[];v.iter(0,v.size,function(d){a.push(d.text)});return a.join(d||"\n")}function B(d){if(!j.onDragEvent||!j.onDragEvent(H,Za(d))){K(d);var a=ab(d,!0),n=d.dataTransfer.files;if(a&&!j.readOnly)if(n&&n.length&&window.FileReader&&window.File){var b=n.length,I=Array(b),c=0;d=function(d,n){var m=new FileReader;m.onload=function(){I[n]=m.result;++c==b&&(a=M(a),t(function(){var d=P(I.join(""),a,a);ja(a,d)})())};m.readAsText(d)};
for(var m=0;m<b;++m)d(n[m],m)}else if(!mb||Q(a,f.from)||Q(f.to,a))try{(I=d.dataTransfer.getData("Text"))&&oc(function(){var d=f.from,n=f.to;ja(a,a);mb&&P("",d,n);bb(I);ka()})}catch(g){}}}function F(d){var a=Rb();d.dataTransfer.setData("Text",a);d.dataTransfer.setDragImage&&d.dataTransfer.setDragImage(A("img"),0,0)}function nb(d,a){if("string"==typeof d&&(d=Sb[d],!d))return!1;var n=la;try{j.readOnly&&(ob=!0),a&&(la=null),d(H)}catch(b){if(b!=pc)throw b;return!1}finally{la=n,ob=!1}return!0}function qc(d){function a(){m=
!0}var n=ca(j.keyMap),b=n.auto;clearTimeout(rc);var I;if(I=b)I=Ia[da(d,"keyCode")],I=!("Ctrl"==I||"Alt"==I||"Shift"==I||"Mod"==I);I&&(rc=setTimeout(function(){ca(j.keyMap)==n&&(j.keyMap=b.call?b.call(null,H):b)},50));I=Ia[da(d,"keyCode")];var c=!1,c=Aa&&pb;if(null==I||d.altGraphKey)return!1;da(d,"altKey")&&(I="Alt-"+I);if(da(d,c?"metaKey":"ctrlKey"))I="Ctrl-"+I;if(da(d,c?"ctrlKey":"metaKey"))I="Cmd-"+I;var m=!1,c=da(d,"shiftKey")?O("Shift-"+I,j.extraKeys,j.keyMap,function(d){return nb(d,!0)},a)||
O(I,j.extraKeys,j.keyMap,function(d){if("string"==typeof d&&/^go[A-Z]/.test(d))return nb(d)},a):O(I,j.extraKeys,j.keyMap,nb,a);m&&(c=!1);c&&(K(d),qb(),Ja&&(d.oldKeyCode=d.keyCode,d.keyCode=0));return c}function sc(d){ba||R();Ja&&27==d.keyCode&&(d.returnValue=!1);Qa&&rb()&&(Qa=!1);if(!j.onKeyEvent||!j.onKeyEvent(H,Za(d))){var a=da(d,"keyCode");Pa(16==a||da(d,"shiftKey"));var n=qc(d);Aa&&(Tb=n?a:null,!n&&(88==a&&da(d,pb?"metaKey":"ctrlKey"))&&bb(""))}}function R(){if("nocursor"!=j.readOnly){if(!ba){if(j.onFocus)j.onFocus(H);
ba=!0;-1==s.className.search(/\bCodeMirror-focused\b/)&&(s.className+=" CodeMirror-focused")}sb();qb()}}function Ub(){if(ba){if(j.onBlur)j.onBlur(H);ba=!1;Ba&&t(function(){Ba&&(Ba(),Ba=null)})();s.className=s.className.replace(" CodeMirror-focused","")}clearInterval(Vb);setTimeout(function(){ba||(la=null)},150)}function nc(d,a,n,b,c){if(!ob){var L=[];v.iter(d.line,a.line+1,function(d){L.push(w(d.text,d.markedSpans))});if(W)for(W.addChange(d.line,n.length,L);W.done.length>j.undoDepth;)W.done.shift();
var m=J(L[0]),g=J(ma(L)),e=d.ch,f=a.ch;if(m||g){if(m)for(var k=0,x;k<m.length;++k){var r=m[k],q=r.marker;if(null==r.from||(q.inclusiveLeft?r.from<=e:r.from<e)||"bookmark"==q.type&&r.from==e&&void 0!=r.from){var s=null==r.to||(q.inclusiveRight?r.to>=e:r.to>e);(x||(x=[])).push({from:r.from,to:s?null:r.to,marker:q})}}m=x;if(g)for(var k=0,G;k<g.length;++k)if(x=g[k],r=x.marker,null==x.to||(r.inclusiveRight?x.to>=f:x.to>f)||"bookmark"==r.type&&x.from==f)q=null==x.from||(r.inclusiveLeft?x.from<=f:x.from<
f),(G||(G=[])).push({from:q?null:x.from-f,to:null==x.to?null:x.to-f,marker:r});g=G;G=1==n.length;k=ma(n).length+(G?e:0);if(m)for(f=0;f<m.length;++f)x=m[f],null==x.to&&((r=ta(g,x.marker))?G&&(x.to=null==r.to?null:r.to+k):x.to=e);if(g)for(f=0;f<g.length;++f)x=g[f],null!=x.to&&(x.to+=k),null==x.from?(r=ta(m,x.marker),r||(x.from=k,G&&(m||(m=[])).push(x))):(x.from+=k,G&&(m||(m=[])).push(x));e=[w(n[0],m)];if(!G){G=n.length-2;var h;if(0<G&&m)for(f=0;f<m.length;++f)null==m[f].to&&(h||(h=[])).push({from:null,
to:null,marker:m[f].marker});for(f=0;f<G;++f)e.push(w(n[f+1],h));e.push(w(ma(n),g))}n=e}tc(d,a,n,b,c)}}function ya(d,a){if(d.length){for(var n=d.pop(),b=[],c=n.length-1;0<=c;c-=1){var L=n[c],m=[],f=L.start+L.added;v.iter(L.start,f,function(d){m.push(w(d.text,d.markedSpans))});b.push({start:L.start,added:L.old.length,old:m});var e=L.start+L.old.length-1,j;j=E(ma(m));var k=E(ma(L.old));if(k)if(j){for(var q=j.length,r=k.length;0<=q&&0<=r&&j.charAt(q)==k.charAt(r);--q,--r);j=r+1}else j=k.length;else j=
0;e={line:e,ch:j};tc({line:L.start,ch:0},{line:f-1,ch:g(f-1).text.length},L.old,e,e)}za=!0;a.push(b)}}function tc(d,a,n,b,c){if(!ob){var L=!1,m=qa.text.length;j.lineWrapping||v.iter(d.line,a.line+1,function(d){if(!d.hidden&&d.text.length==m)return L=!0});if(d.line!=a.line||1<n.length)oa=!0;var e=a.line-d.line,ia=g(d.line),q=g(a.line),h=ma(n);if(0==d.ch&&0==a.ch&&""==E(h)){for(var x=[],r=0,l=n.length-1;r<l;++r)x.push(new u(E(n[r]),J(n[r])));q.update(q.text,J(h));e&&v.remove(d.line,e,cb);x.length&&
v.insert(d.line,x)}else if(ia==q)if(1==n.length)ia.update(ia.text.slice(0,d.ch)+E(n[0])+ia.text.slice(a.ch),J(n[0]));else{x=[];r=1;for(l=n.length-1;r<l;++r)x.push(new u(E(n[r]),J(n[r])));x.push(new u(E(h)+ia.text.slice(a.ch),J(h)));ia.update(ia.text.slice(0,d.ch)+E(n[0]),J(n[0]));v.insert(d.line+1,x)}else if(1==n.length)ia.update(ia.text.slice(0,d.ch)+E(n[0])+q.text.slice(a.ch),J(n[0])),v.remove(d.line+1,e,cb);else{x=[];ia.update(ia.text.slice(0,d.ch)+E(n[0]),J(n[0]));q.update(E(h)+q.text.slice(a.ch),
J(h));r=1;for(l=n.length-1;r<l;++r)x.push(new u(E(n[r]),J(n[r])));1<e&&v.remove(d.line+1,e-1,cb);v.insert(d.line+1,x)}if(j.lineWrapping){var w=Math.max(5,s.clientWidth/Wb()-3);v.iter(d.line,d.line+n.length,function(d){if(!d.hidden){var a=Math.ceil(d.text.length/w)||1;a!=d.height&&k(d,a)}})}else v.iter(d.line,d.line+n.length,function(d){var a=d.text;!d.hidden&&a.length>m&&(qa=d,m=a.length,tb=!0,L=!1)}),L&&(db=!0);ea=Math.min(ea,d.line);ub(400);e=n.length-e-1;ua.push({from:d.line,to:a.line+1,diff:e});
if(j.onChange){for(r=0;r<n.length;++r)"string"!=typeof n[r]&&(n[r]=n[r].text);d={from:d,to:a,text:n};if(Ra){for(n=Ra;n.next;n=n.next);n.next=d}else Ra=d}eb(M(b),M(c),f.from.line<=Math.min(a.line,a.line+e)?f.from.line:f.from.line+e,f.to.line<=Math.min(a.line,a.line+e)?f.to.line:f.to.line+e)}}function uc(){var d=v.height*ra()+2*N.offsetTop;return 0.99*d>s.offsetHeight?d:!1}function Xb(d){var a=uc();D.style.display=a?"block":"none";a?(vc.style.height=sa.style.minHeight=a+"px",D.style.height=s.clientHeight+
"px",null!=d&&(D.scrollTop=s.scrollTop=d,vb&&setTimeout(function(){D.scrollTop==d&&(D.scrollTop=d+(d?-1:1),D.scrollTop=d)},0))):sa.style.minHeight="";wb.style.top=Sa*ra()+"px"}function wc(){qa=g(0);tb=!0;var d=qa.text.length;v.iter(1,v.size,function(a){var n=a.text;!a.hidden&&n.length>d&&(d=n.length,qa=a)});db=!1}function P(d,a,n){function b(na){if(Q(na,a))return na;if(!Q(n,na))return c;var m=na.line+d.length-(n.line-a.line)-1,e=na.ch;na.line==n.line&&(e+=ma(d).length-(n.ch-(n.line==a.line?a.ch:0)));
return{line:m,ch:e}}a=M(a);n=n?M(n):a;d=lb(d);var c;xc(d,a,n,function(d){c=d;return{from:b(f.from),to:b(f.to)}});return c}function bb(d,a){xc(lb(d),f.from,f.to,function(d){return"end"==a?{from:d,to:d}:"start"==a?{from:f.from,to:f.from}:{from:f.from,to:d}})}function xc(d,a,n,b){var c=1==d.length?d[0].length+a.ch:ma(d).length;b=b({line:a.line+d.length-1,ch:c});nc(a,n,d,b.from,b.to)}function yc(d,a,n){var b=d.line,c=a.line;if(b==c)return g(b).text.slice(d.ch,a.ch);var e=[g(b).text.slice(d.ch)];v.iter(b+
1,c,function(d){e.push(d.text)});e.push(g(c).text.slice(0,a.ch));return e.join(n||"\n")}function Rb(d){return yc(f.from,f.to,d)}function sb(){Qa||Yb.set(j.pollInterval,function(){rb();ba&&sb()})}function Ka(){function d(){!rb()&&!a?(a=!0,Yb.set(60,d)):(Qa=!1,sb())}var a=!1;Qa=!0;Yb.set(20,d)}function rb(){if(!ba||Sc(y)||j.readOnly)return!1;var d=y.value;if(d==ha)return!1;xb||zc();la=null;for(var a=0,n=Math.min(ha.length,d.length);a<n&&ha[a]==d[a];)++a;a<ha.length?f.from={line:f.from.line,ch:f.from.ch-
(ha.length-a)}:yb&&C(f.from,f.to)&&(f.to={line:f.to.line,ch:Math.min(g(f.to.line).text.length,f.to.ch+(d.length-a))});bb(d.slice(a),"end");1E3<d.length?y.value=ha="":ha=d;xb||Ac();return!0}function zb(d){C(f.from,f.to)?d&&(ha=y.value=""):(ha="",y.value=Rb(),ba&&(d=y,Zb?(d.selectionStart=0,d.selectionEnd=d.value.length):d.select()))}function ka(){"nocursor"!=j.readOnly&&y.focus()}function Bc(){var d=va(f.inverted?f.from:f.to);return{x:j.lineWrapping?Math.min(d.x,N.offsetWidth):d.x,y:d.y,yBot:d.yBot}}
function Cc(d,a,n,b){d=Ga(d,a,n,b);null!=d.scrollLeft&&(s.scrollLeft=d.scrollLeft);null!=d.scrollTop&&(D.scrollTop=s.scrollTop=d.scrollTop)}function Ga(d,a,n,b){var c=N.offsetLeft,e=N.offsetTop;a+=e;b+=e;d+=c;n+=c;var m=s.clientHeight,f=D.scrollTop,g={},k=uc()||Infinity,q=a<e+10,e=b+e>k-10;a<f?g.scrollTop=q?0:Math.max(0,a):b>f+m&&(g.scrollTop=(e?k:b)-m);a=s.clientWidth;b=s.scrollLeft;m=j.fixedGutter?aa.clientWidth:0;c=d<m+c+10;d<b+m||c?(c&&(d=0),g.scrollLeft=Math.max(0,d-10-m)):n>a+b-3&&(g.scrollLeft=
n+10-a);return g}function Ha(d){var a=ra(),n=(null!=d?d:D.scrollTop)-N.offsetTop;d=Math.max(0,Math.floor(n/a));a=Math.ceil((n+s.clientHeight)/a);return{from:T(v,d),to:T(v,a)}}function Ca(d,a,n){function b(){var d=fa.firstChild,a=!1;v.iter(S,U,function(b){if(d){if(!b.hidden){var n=Math.round(d.offsetHeight/y)||1;b.height!=n&&(k(b,n),oa=a=!0)}d=d.nextSibling}});return a}if(s.clientWidth){var c=Ha(n);if(!0!==d&&0==d.length&&c.from>S&&c.to<U)Xb(n);else{var e=Math.max(c.from-100,0),m=Math.min(v.size,c.to+
100);S<e&&20>e-S&&(e=S);U>m&&20>U-m&&(m=Math.min(v.size,U));if(!0===d)d=[];else{for(var c=[{from:S,to:U,domStart:0}],f=0,g=d.length||0;f<g;++f){for(var h=d[f],l=[],x=h.diff||0,r=0,w=c.length;r<w;++r){var t=c[r];h.to<=t.from&&h.diff?l.push({from:t.from+x,to:t.to+x,domStart:t.domStart}):h.to<=t.from||h.from>=t.to?l.push(t):(h.from>t.from&&l.push({from:t.from,to:h.from,domStart:t.domStart}),h.to<t.to&&l.push({from:h.to+x,to:t.to+x,domStart:t.domStart+(h.to-t.from)}))}c=l}d=c}for(var G=d,c=d=0;c<G.length;++c)f=
G[c],f.from<e&&(f.domStart+=e-f.from,f.from=e),f.to>m&&(f.to=m),f.from>=f.to?G.splice(c--,1):d+=f.to-f.from;if(d==m-e&&e==S&&m==U)Xb(n);else{G.sort(function(d,a){return d.domStart-a.domStart});var y=ra();d=aa.style.display;fa.style.display="none";c=e;f=m;g=function(d){var a=d.nextSibling;d.parentNode.removeChild(d);return a};if(G.length){for(var h=0,p=fa.firstChild,l=0;l<G.length;++l){for(x=G[l];x.domStart>h;)p=g(p),h++;for(var u=0,x=x.to-x.from;u<x;++u)p=p.nextSibling,h++}for(;p;)p=g(p)}else La(fa);
var z=G.shift(),p=fa.firstChild,u=c;v.iter(c,f,function(d){z&&z.to==u&&(z=G.shift());if(!z||z.from>u){if(d.hidden)var a=A("pre");else a=q(d),d.className&&(a.className=d.className),d.bgClassName&&(d=A("pre","\u00a0",d.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2"),a=A("div",[d,a],null,"position: relative"));fa.insertBefore(a,p)}else p=p.nextSibling;++u});fa.style.display=aa.style.display="";(c=e!=S||m!=U||Dc!=s.clientHeight+y)&&(Dc=s.clientHeight+y);(e!=S||m!=
U&&j.onViewportChange)&&setTimeout(function(){if(j.onViewportChange)j.onViewportChange(H,e,m)});S=e;U=m;Sa=$b(v,e);ub(100);if(fa.childNodes.length!=U-S)throw Error("BAD PATCH! "+JSON.stringify(G)+" size="+(U-S)+" nodes="+fa.childNodes.length);j.lineWrapping&&b();aa.style.display=d;(c||oa)&&ib()&&j.lineWrapping&&b()&&ib();Xb(n);Oa();if(!a&&j.onUpdate)j.onUpdate(H);return!0}}}else S=U=Sa=0}function ib(){if(j.gutter||j.lineNumbers){var d=wb.offsetHeight,a=s.clientHeight;aa.style.height=(2>d-a?a:d)+"px";
var b=document.createDocumentFragment(),c=S,e;v.iter(S,Math.max(U,S+1),function(d){if(d.hidden)b.appendChild(A("pre"));else{var a=d.gutterMarker,$=j.lineNumbers?j.lineNumberFormatter(c+j.firstLineNumber):null;a&&a.text?$=a.text.replace("%N%",null!=$?$:""):null==$&&($="\u00a0");var f=b.appendChild(A("pre",null,a&&a.style));f.innerHTML=$;for($=1;$<d.height;++$)f.appendChild(A("br")),f.appendChild(document.createTextNode("\u00a0"));a||(e=c)}++c});aa.style.display="none";La(Ta).appendChild(b);if(null!=
e&&j.lineNumbers){for(var d=Ta.childNodes[e-S],a=String(v.size).length,f=d.firstChild.textContent||d.firstChild.innerText||d.firstChild.nodeValue||"",m="";f.length+m.length<a;)m+="\u00a0";m&&d.insertBefore(document.createTextNode(m),d.firstChild)}aa.style.display="";d=2<Math.abs((parseInt(N.style.marginLeft)||0)-aa.offsetWidth);N.style.marginLeft=aa.offsetWidth+"px";oa=!1;return d}}function Oa(){var d=C(f.from,f.to),a=va(f.from,!0),b=d?a:va(f.to,!0),c=f.inverted?a:b,e=ra(),g=Ua(Z),m=Ua(fa);Ma.style.top=
Math.max(0,Math.min(s.offsetHeight,c.y+m.top-g.top))+"px";Ma.style.left=Math.max(0,Math.min(s.offsetWidth,c.x+m.left-g.left))+"px";if(d)Y.style.top=c.y+"px",Y.style.left=(j.lineWrapping?Math.min(c.x,N.offsetWidth):c.x)+"px",Y.style.display="",Ab.style.display="none";else{var d=a.y==b.y,k=document.createDocumentFragment(),q=N.clientWidth||N.offsetWidth,c=N.clientHeight||N.offsetHeight,g=function(d,a,b,n){k.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+d+"px; top: "+a+
"px; "+(Tc?"width: "+(!b?q:q-b-d)+"px":"right: "+b+"px")+"; height: "+n+"px"))};f.from.ch&&0<=a.y&&g(a.x,a.y,d?q-b.x:0,e);a=Math.max(0,a.y+(f.from.ch?e:0));m=Math.min(b.y,c)-a;m>0.2*e&&g(0,a,0,m);(!d||!f.from.ch)&&b.y<c-0.5*e&&g(0,b.y,q-b.x,e);La(Ab).appendChild(k);Y.style.display="none";Ab.style.display=""}}function Pa(d){la=d?la||(f.inverted?f.to:f.from):null}function ja(d,a){var b=la&&M(la);b&&(Q(b,d)?d=b:Q(a,b)&&(a=b));eb(d,a);Bb=!0}function eb(d,a,b,c){Cb=null;null==b&&(b=f.from.line,c=f.to.line);
if(!C(f.from,d)||!C(f.to,a)){if(Q(a,d)){var e=a;a=d;d=e}d.line!=b&&((b=Db(d,b,f.from.ch))?d=b:ac(d.line,!1));a.line!=c&&(a=Db(a,c,f.to.ch));C(d,a)?f.inverted=!1:C(d,f.to)?f.inverted=!1:C(a,f.from)&&(f.inverted=!0);if(j.autoClearEmptyLines&&C(f.from,f.to)&&(f.inverted?d:a).line!=f.from.line&&f.from.line<v.size){var L=g(f.from.line);/^\s+$/.test(L.text)&&setTimeout(t(function(){if(L.parent&&/^\s+$/.test(L.text)){var d=pa(L);P("",{line:d,ch:0},{line:d,ch:L.text.length})}},10))}f.from=d;f.to=a;Da=!0}}
function Db(d,a,b){function c(a){for(var $=d.line+a,e=1==a?v.size:-1;$!=e;){var na=g($);if(!na.hidden){a=d.ch;if(f||a>b||a>na.text.length)a=na.text.length;return{line:$,ch:a}}$+=a}}var e=g(d.line),f=d.ch==e.text.length&&d.ch!=b;return!e.hidden?d:d.line>=a?c(1)||c(-1):c(-1)||c(1)}function Ea(d,a,b){d=M({line:d,ch:a||0});(b?ja:eb)(d,d)}function Eb(d){return Math.max(0,Math.min(d,v.size-1))}function M(d){if(0>d.line)return{line:0,ch:0};if(d.line>=v.size)return{line:v.size-1,ch:g(v.size-1).text.length};
var a=d.ch,b=g(d.line).text.length;return null==a||a>b?{line:d.line,ch:b}:0>a?{line:d.line,ch:0}:d}function Na(d,a){function b(a){if(j==(0>d?0:m.text.length)){if(a=!a)a:{a=e+d;for(var n=0>d?-1:v.size;a!=n;a+=d){var c=g(a);if(!c.hidden){e=a;m=c;a=!0;break a}}a=void 0}if(a)j=0>d?m.text.length:0;else return!1}else j+=d;return!0}var c=f.inverted?f.from:f.to,e=c.line,j=c.ch,m=g(e);if("char"==a)b();else if("column"==a)b(!0);else if("word"==a)for(c=!1;!(0>d)||b();){if(Fb(m.text.charAt(j)))c=!0;else if(c){0>
d&&(d=1,b());break}if(0<d&&!b())break}return{line:e,ch:j}}function Ya(d){var a=g(d.line).text,b=d.ch,c=d.ch;if(a){!1===d.after||c==a.length?--b:++c;for(var e=a.charAt(b),e=Fb(e)?Fb:/\s/.test(e)?function(d){return/\s/.test(d)}:function(d){return!/\s/.test(d)&&!Fb(d)};0<b&&e(a.charAt(b-1));)--b;for(;c<a.length&&e(a.charAt(c));)++c}return{from:{line:d.line,ch:b},to:{line:d.line,ch:c}}}function Gb(d,a){a||(a="add");if("smart"==a)if(X.indent)var b=$a(d);else a="prev";var c=g(d),e=c.indentation(j.tabSize),
f=c.text.match(/^\s*/)[0],m;"smart"==a&&(m=X.indent(b,c.text.slice(f.length),c.text),m==pc&&(a="prev"));"prev"==a?m=d?g(d-1).indentation(j.tabSize):0:"add"==a?m=e+j.indentUnit:"subtract"==a&&(m=e-j.indentUnit);m=Math.max(0,m);b="";c=0;if(j.indentWithTabs)for(e=Math.floor(m/j.tabSize);e;--e)c+=j.tabSize,b+="\t";c<m&&(b+=Ec(m-c));b!=f&&P(b,{line:d,ch:0},{line:d,ch:f.length})}function jb(){X=l.getMode(j,j.mode);v.iter(0,v.size,function(d){d.stateAfter=null});ea=0;ub(100)}function Qb(){if(j.lineWrapping){Z.className+=
" CodeMirror-wrap";var d=s.clientWidth/Wb()-3;v.iter(0,v.size,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/d)||1;1!=b&&k(a,b)}});N.style.minWidth=Hb.style.left=""}else Z.className=Z.className.replace(" CodeMirror-wrap",""),wc(),v.iter(0,v.size,function(a){1!=a.height&&!a.hidden&&k(a,1)});ua.push({from:0,to:v.size})}function Fc(){s.className=s.className.replace(/\s*cm-s-\S+/g,"")+j.theme.replace(/(^|\s)\s*/g," cm-s-")}function Gc(){var a=wa[j.keyMap].style;Z.className=Z.className.replace(/\s*cm-keymap-\S+/g,
"")+(a?" cm-keymap-"+a:"")}function Ib(a,b){this.lines=[];this.type=a;b&&(this.style=b)}function bc(a,b,c,e){a=M(a);b=M(b);var f=new Ib("range",c);if(e)for(var g in e)e.hasOwnProperty(g)&&(f[g]=e[g]);var m=a.line;v.iter(m,b.line+1,function(c){var n={from:m==a.line?a.ch:null,to:m==b.line?b.ch:null,marker:f};(c.markedSpans||(c.markedSpans=[])).push(n);f.lines.push(c);++m});ua.push({from:a.line,to:b.line+1});return f}function Hc(a,b){var c=a,e=a;"number"==typeof a?e=g(Eb(a)):c=pa(a);if(null!=c&&b(e,
c))ua.push({from:c,to:c+1});else return null;return e}function ac(a,b){return Hc(a,function(a,d){if(a.hidden!=b){a.hidden=b;j.lineWrapping||(b&&a.text.length==qa.text.length?db=!0:!b&&a.text.length>qa.text.length&&(qa=a,db=!1));k(a,b?0:1);var c=f.from.line,e=f.to.line;if(b&&(c==d||e==d)){c=c==d?Db({line:c,ch:0},c,0):f.from;e=e==d?Db({line:e,ch:0},e,0):f.to;if(!e)return;eb(c,e)}return oa=!0}})}function cc(a,b){if(0==b)return{top:0,left:0};j.lineWrapping&&b<a.text.length&&Jb.test(a.text.slice(b-1,b+
1));var c=q(a,b);La(Va).appendChild(c);var c=c.anchor,e=c.offsetTop,f=c.offsetLeft;Ja&&(0==e&&0==f)&&(e=A("span","x"),c.parentNode.insertBefore(e,c.nextSibling),e=e.offsetTop);return{top:e,left:f}}function va(a,b){var c,e=ra(),f=e*($b(v,a.line)-(b?Sa:0));if(0==a.ch)c=0;else{var k=cc(g(a.line),a.ch);c=k.left;j.lineWrapping&&(f+=Math.max(0,k.top))}return{x:c,y:f,yBot:f+e}}function Kb(a,b){function c(a){a=cc(q,a);if(l){var d=Math.round(a.top/e);x=d!=t;return Math.max(0,a.left+(d-t)*s.clientWidth)}return a.left}
var e=ra(),f=Wb(),k=Sa+Math.floor(b/e);if(0>k)return{line:0,ch:0};var m=T(v,k);if(m>=v.size)return{line:v.size-1,ch:g(v.size-1).text.length};var q=g(m),h=q.text,l=j.lineWrapping,t=l?k-$b(v,m):0;if(0>=a&&0==t)return{line:m,ch:0};for(var x=!1,r=k=0,h=h.length,w,f=Math.min(h,Math.ceil((a+0.9*t*s.clientWidth)/f));;){var p=c(f);if(p<=a&&f<h)f=Math.min(h,Math.ceil(1.2*f));else{w=p;h=f;break}}if(a>w)return{line:m,ch:h};f=Math.floor(0.8*h);p=c(f);p<a&&(k=f,r=p);for(;;){if(1>=h-k)return w=a-r<w-a,{line:m,
ch:w?k:h,after:w};f=Math.ceil((k+h)/2);p=c(f);p>a?(h=f,w=p,x&&(w+=1E3)):(k=f,r=p)}}function ra(){if(null==Wa){Wa=A("pre");for(var a=0;49>a;++a)Wa.appendChild(document.createTextNode("x")),Wa.appendChild(A("br"));Wa.appendChild(document.createTextNode("x"))}a=fa.clientHeight;if(a==Ic)return dc;Ic=a;a=Wa.cloneNode(!0);La(Va).appendChild(a);dc=Va.firstChild.offsetHeight/50||1;La(Va);return dc}function Wb(){if(s.clientWidth==Jc)return Kc;Jc=s.clientWidth;var a=A("span","x"),b=A("pre",[a]);La(Va).appendChild(b);
return Kc=a.offsetWidth||10}function ab(a,b){var c=Ua(s,!0),e,f;try{e=a.clientX,f=a.clientY}catch(g){return null}if(!b&&(e-c.left>s.clientWidth||f-c.top>s.clientHeight))return null;c=Ua(N,!0);return Kb(e-c.left,f-c.top)}function Lc(a){function b(){Ma.style.position="relative";y.style.cssText=g;ec&&(D.scrollTop=e);sb();if(null!=y.selectionStart){clearTimeout(fc);var a=y.value=" "+(C(f.from,f.to)?"":y.value),d=0;ha=" ";y.selectionStart=1;y.selectionEnd=a.length;fc=setTimeout(function Rc(){" "==ha&&
0==y.selectionStart?t(Sb.selectAll)(H):10>d++?fc=setTimeout(Rc,500):zb()},200)}}var c=ab(a),e=D.scrollTop;if(c&&!Aa){(C(f.from,f.to)||Q(c,f.from)||!Q(c,f.to))&&t(Ea)(c.line,c.ch);var g=y.style.cssText;Ma.style.position="absolute";y.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";ka();zb(!0);C(f.from,f.to)&&(y.value=
ha=" ");if(fb){kb(a);var j=z(window,"mouseup",function(){j();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function qb(){clearInterval(Vb);var a=!0;Y.style.visibility="";Vb=setInterval(function(){Y.style.visibility=(a=!a)?"":"hidden"},j.cursorBlinkRate)}function Mc(a){var b=f.inverted?f.from:f.to,c=g(b.line),e=b.ch-1,j=0<=e&&gc[c.text.charAt(e)]||gc[c.text.charAt(++e)];if(j){j.charAt(0);for(var k=(j=">"==j.charAt(1))?1:-1,m=c.styles,h=e+1,q=0,l=m.length;q<l;q+=2)if(0>=(h-=m[q].length)){var s=m[q+1];
break}m=[c.text.charAt(e)];h=/[(){}[\]]/;q=b.line;for(l=j?Math.min(q+100,v.size):Math.max(-1,q-100);q!=l;q+=k){var c=g(q),w=q==b.line,r;a:{r=w&&j?e+1:0;w=w&&!j?e:c.text.length;if(c.text)for(var p=c.styles,c=j?0:c.text.length-1,y=void 0,G=j?0:p.length-2,A=j?p.length:-2;G!=A;G+=2*k){var u=p[G];if(p[G+1]!=s)c+=k*u.length;else for(var z=j?0:u.length-1,Pc=j?u.length:-1;z!=Pc;z+=k,c+=k)if(c>=r&&c<w&&h.test(y=u.charAt(z))){var D=gc[y];if(">"==D.charAt(1)==j)m.push(y);else if(m.pop()!=D.charAt(0)){r={pos:c,
match:!1};break a}else if(!m.length){r={pos:c,match:!0};break a}}}r=void 0}if(r)break}r||(r={pos:null,match:!1});var s=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",Ka=bc({line:b.line,ch:e},{line:b.line,ch:e+1},s),H=null!=r.pos&&bc({line:q,ch:r.pos},{line:q,ch:r.pos+1},s),b=t(function(){Ka.clear();H&&H.clear()});a?setTimeout(b,800):Ba=b}}function $a(a){var b;a:{for(var c,e,f=a,k=a-40;f>k;--f){if(0==f){b=0;break a}var m=g(f-1);if(m.stateAfter){b=f;break a}m=m.indentation(j.tabSize);
if(null==e||c>m)e=f-1,c=m}b=e}var q=b&&g(b-1).stateAfter,q=q?V(X,q):Fa(X);v.iter(b,a,function(c){c.process(X,q,j.tabSize);c.stateAfter=b==a-1||0==b%5?V(X,q):null});return q}function mc(){if(!(ea>=U)){var a=+new Date+j.workTime,b=V(X,$a(ea)),c=ea;v.iter(ea,U,function(c){ea>=S?(c.highlight(X,b,j.tabSize),c.stateAfter=V(X,b)):(c.process(X,b,j.tabSize),c.stateAfter=0==ea%5?V(X,b):null);++ea;if(+new Date>a)return ub(j.workDelay),!0});U>c&&ea>=S&&t(function(){ua.push({from:c,to:ea})})()}}function ub(a){ea<
U&&Uc.set(a,mc)}function zc(){za=Bb=Ra=null;ua=[];Da=!1;cb=[]}function Ac(){db&&wc();if(tb&&!j.lineWrapping){var a=Hb.offsetWidth,b=cc(qa,qa.text.length).left;hc||(Hb.style.left=b+"px",N.style.minWidth=b+a+"px");tb=!1}var c,e;Da&&(a=Bc(),c=Ga(a.x,a.y,a.x,a.yBot));if(ua.length||c&&null!=c.scrollTop)e=Ca(ua,!0,c&&c.scrollTop);e||(Da&&Oa(),oa&&ib());if(c&&(a=Bc(),Cc(a.x,a.y,a.x,a.yBot),ba)){c=sa.getBoundingClientRect();b=null;if(0>a.y+c.top)b=!0;else if(a.y+c.top+ra()>(window.innerHeight||document.documentElement.clientHeight))b=
!1;if(null!=b){if(c="none"==Y.style.display)Y.style.display="",Y.style.left=a.x+"px",Y.style.top=a.y-Sa+"px";Y.scrollIntoView(b);c&&(Y.style.display="none")}}Da&&qb();ba&&(!0===za||!1!==za&&Da)&&zb(Bb);Da&&j.matchBrackets&&setTimeout(t(function(){Ba&&(Ba(),Ba=null);C(f.from,f.to)&&Mc(!1)}),20);b=Da;a=cb;if(Ra&&j.onChange&&H)j.onChange(H,Ra);if(b&&j.onCursorActivity)j.onCursorActivity(H);for(b=0;b<a.length;++b)a[b](H);if(e&&j.onUpdate)j.onUpdate(H)}function t(a){return function(){xb++||zc();try{var b=
a.apply(this,arguments)}finally{--xb||Ac()}return b}}function oc(a){W.startCompound();try{return a()}finally{W.endCompound()}}var j={},ic=l.defaults,gb;for(gb in ic)ic.hasOwnProperty(gb)&&(j[gb]=(b&&b.hasOwnProperty(gb)?b:ic)[gb]);var y=A("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");y.setAttribute("wrap","off");y.setAttribute("autocorrect","off");y.setAttribute("autocapitalize","off");var Ma=A("div",[y],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),
vc=A("div",null,"CodeMirror-scrollbar-inner"),D=A("div",[vc],"CodeMirror-scrollbar"),fa=A("div"),Ab=A("div",null,null,"position: relative; z-index: -1"),Y=A("pre","\u00a0","CodeMirror-cursor"),Hb=A("pre","\u00a0","CodeMirror-cursor","visibility: hidden"),Va=A("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),N=A("div",[Va,Y,Hb,Ab,fa],null,"position: relative; z-index: 0"),Ta=A("div",null,"CodeMirror-gutter-text"),aa=A("div",[Ta],"CodeMirror-gutter"),
wb=A("div",[aa,A("div",[N],"CodeMirror-lines")],null,"position: relative"),sa=A("div",[wb],null,"position: relative"),s=A("div",[sa],"CodeMirror-scroll");s.setAttribute("tabIndex","-1");var Z=A("div",[Ma,D,s],"CodeMirror"+(j.lineWrapping?" CodeMirror-wrap":""));a.appendChild?a.appendChild(Z):a(Z);Fc();Gc();Zb&&(y.style.width="0px");vb||(s.draggable=!0);N.style.outline="none";null!=j.tabindex&&(y.tabIndex=j.tabindex);j.autofocus&&ka();!j.gutter&&!j.lineNumbers&&(aa.style.display="none");jc&&(Ma.style.height=
"1px",Ma.style.position="absolute");Vc?(D.style.zIndex=-2,D.style.visibility="hidden"):hc&&(D.style.minWidth="18px");var Yb=new kc,Uc=new kc,Vb,X,v=new ga([new Xa([new u("")])]),ea=0,ba;jb();var f={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},la,Lb,Mb,xa=0,mb,yb=!1,ob=!1,za,Bb,ua,Ra,Da,oa,cb,Sa=0,S=0,U=0,Dc=0,Ba,qa=g(0),db=!1,tb=!0,Qa=!1,Cb=null;t(function(){h(j.value||"");za=!1})();var W=new Nb;z(s,"mousedown",t(function(a){function b(c){vb&&(s.draggable=!1);mb=!1;w();v();10>Math.abs(a.clientX-
c.clientX)+Math.abs(a.clientY-c.clientY)&&(K(c),Ea(m.line,m.ch,!0),ka())}function c(a){if("single"==q)ja(m,a);else if("double"==q){var d=Ya(a);Q(a,r)?ja(d.from,p):ja(r,d.to)}else"triple"==q&&(Q(a,r)?ja(p,M({line:a.line,ch:0})):ja(r,M({line:a.line+1,ch:0})))}function e(a){var d=ab(a,!0);if(d&&!C(d,h)){ba||R();h=d;c(d);za=!1;var b=Ha();if(d.line>=b.to||d.line<b.from)l=setTimeout(t(function(){e(a)}),150)}}function g(a){clearTimeout(l);var d=ab(a);d&&c(d);K(a);ka();za=!0;y();w()}Pa(da(a,"shiftKey"));
for(var k=a.target||a.srcElement;k!=Z;k=k.parentNode)if(k.parentNode==sa&&k!=wb)return;for(k=a.target||a.srcElement;k!=Z;k=k.parentNode)if(k.parentNode==Ta){if(j.onGutterClick)j.onGutterClick(H,Ob(Ta.childNodes,k)+S,a);return K(a)}var m=ab(a);switch(Nc(a)){case 3:fb&&Lc(a);return;case 2:m&&Ea(m.line,m.ch,!0);setTimeout(ka,20);K(a);return}if(m){ba||R();var k=+new Date,q="single";Mb&&Mb.time>k-400&&C(Mb.pos,m)?(q="triple",K(a),setTimeout(ka,20),k=m.line,ja({line:k,ch:0},M({line:k+1,ch:0}))):Lb&&Lb.time>
k-400&&C(Lb.pos,m)?(q="double",Mb={time:k,pos:m},K(a),k=Ya(m),ja(k.from,k.to)):Lb={time:k,pos:m};var h=m,l;if(j.dragDrop&&lc&&!j.readOnly&&!C(f.from,f.to)&&!Q(m,f.from)&&!Q(f.to,m)&&"single"==q){vb&&(s.draggable=!0);var w=z(document,"mouseup",t(b),!0),v=z(s,"drop",t(b),!0);mb=!0;s.dragDrop&&s.dragDrop()}else{K(a);"single"==q&&Ea(m.line,m.ch,!0);var r=f.from,p=f.to,y=z(document,"mousemove",t(function(a){clearTimeout(l);K(a);!Ja&&!Nc(a)?g(a):e(a)}),!0),w=z(document,"mouseup",t(g),!0)}}else(a.target||
a.srcElement)==s&&K(a)}));z(s,"dblclick",t(function(a){for(var b=a.target||a.srcElement;b!=Z;b=b.parentNode)if(b.parentNode==Ta)return K(a);K(a)}));z(N,"selectstart",K);fb||z(s,"contextmenu",Lc);z(s,"scroll",function(){j.fixedGutter&&aa.style.left!=s.scrollLeft+"px"&&(aa.style.left=s.scrollLeft+"px");s.scrollTop!=xa&&(xa=s.scrollTop,D.scrollTop!=xa&&(D.scrollTop=xa),Ca([]));if(j.onScroll)j.onScroll(H)});z(D,"scroll",function(){D.scrollTop!=xa&&(xa=s.scrollTop=D.scrollTop,Ca([]))});z(D,"mousedown",
function(){ba&&setTimeout(ka,0)});var Wc=z(window,"resize",function(){Z.parentNode?Ca(!0):Wc()},!0);z(y,"keyup",t(function(a){if(!j.onKeyEvent||!j.onKeyEvent(H,Za(a)))16==da(a,"keyCode")&&(la=null)}));z(y,"input",Ka);z(y,"keydown",t(sc));z(y,"keypress",t(function(a){Qa&&rb();if(!j.onKeyEvent||!j.onKeyEvent(H,Za(a))){var b=da(a,"keyCode"),c=da(a,"charCode");if(Aa&&b==Tb)Tb=null,K(a);else if(!(Aa&&(!a.which||10>a.which)||jc)||!qc(a)){b=String.fromCharCode(null==c?b:c);j.electricChars&&X.electricChars&&
j.smartIndent&&!j.readOnly&&-1<X.electricChars.indexOf(b)&&setTimeout(t(function(){Gb(f.to.line,"smart")}),75);if(b=O("'"+b+"'",j.extraKeys,j.keyMap,function(a){return nb(a,!0)}))K(a),qb();b||Ka()}}}));z(y,"focus",R);z(y,"blur",Ub);j.dragDrop&&(z(s,"dragstart",F),z(s,"dragenter",c),z(s,"dragover",c),z(s,"drop",t(B)));z(s,"paste",function(){ka();Ka()});z(y,"paste",Ka);z(y,"cut",t(function(){j.readOnly||bb("")}));jc&&z(sa,"mouseup",function(){document.activeElement==y&&y.blur();ka()});var Oc;try{Oc=
document.activeElement==y}catch(Xc){}Oc||j.autofocus?setTimeout(R,20):Ub();var H=Z.CodeMirror={getValue:p,setValue:t(h),getSelection:Rb,replaceSelection:t(bb),getCode:p,setCode:h,focus:function(){window.focus();ka();R();Ka()},setOption:function(a,b){var c=j[a];j[a]=b;"mode"==a||"indentUnit"==a?jb():"readOnly"==a&&"nocursor"==b?(Ub(),y.blur()):"readOnly"==a&&!b?zb(!0):"theme"==a?Fc():"lineWrapping"==a&&c!=b?t(Qb)():"tabSize"==a?Ca(!0):"keyMap"==a&&Gc();if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==
a||"theme"==a||"lineNumberFormatter"==a)c=j.gutter||j.lineNumbers,aa.style.display=c?"":"none",c?oa=!0:fa.parentNode.style.marginLeft=0,Ca(!0)},getOption:function(a){return j[a]},getMode:function(){return X},undo:t(function(){ya(W.done,W.undone)}),redo:t(function(){ya(W.undone,W.done)}),indentLine:t(function(a,b){"string"!=typeof b&&(b=null==b?j.smartIndent?"smart":"prev":b?"add":"subtract");e(a)&&Gb(a,b)}),indentSelection:t(function(a){if(C(f.from,f.to))return Gb(f.from.line,a);for(var b=f.to.line-
(f.to.ch?0:1),c=f.from.line;c<=b;++c)Gb(c,a)}),historySize:function(){return{undo:W.done.length,redo:W.undone.length}},clearHistory:function(){W=new Nb},setHistory:function(a){W=new Nb;W.done=a.done;W.undone=a.undone},getHistory:function(){function a(d){for(var b=0,c=[],e;b<d.length;++b){c.push(e=[]);for(var f=0,g=d[b];f<g.length;++f){var j=[],k=g[f];e.push({start:k.start,added:k.added,old:j});for(var q=0;q<k.old.length;++q)j.push(E(k.old[q]))}}return c}return{done:a(W.done),undone:a(W.undone)}},
matchBrackets:t(function(){Mc(!0)}),getTokenAt:t(function(a){a=M(a);return g(a.line).getTokenAt(X,$a(a.line),j.tabSize,a.ch)}),getStateAfter:function(a){a=Eb(null==a?v.size-1:a);return $a(a+1)},cursorCoords:function(a,b){null==a&&(a=f.inverted);return this.charCoords(a?f.from:f.to,b)},charCoords:function(a,b){a=M(a);if("local"==b)return va(a,!1);if("div"==b)return va(a,!0);var c=va(a,!0),e=Ua(N);return{x:e.left+c.x,y:e.top+c.y,yBot:e.top+c.yBot}},coordsChar:function(a){var b=Ua(N);return Kb(a.x-b.left,
a.y-b.top)},markText:t(bc),setBookmark:function(a){a=M(a);var b=new Ib("bookmark"),c=g(a.line);a={from:a.ch,to:a.ch,marker:b};(c.markedSpans||(c.markedSpans=[])).push(a);b.lines.push(c);return b},findMarksAt:function(a){a=M(a);var b=[],c=g(a.line).markedSpans;if(c)for(var e=0;e<c.length;++e){var f=c[e];(null==f.from||f.from<=a.ch)&&(null==f.to||f.to>=a.ch)&&b.push(f.marker)}return b},setMarker:t(function(a,b,c){"number"==typeof a&&(a=g(Eb(a)));a.gutterMarker={text:b,style:c};oa=!0;return a}),clearMarker:t(function(a){"number"==
typeof a&&(a=g(Eb(a)));a.gutterMarker=null;oa=!0}),setLineClass:t(function(a,b,c){return Hc(a,function(a){if(a.className!=b||a.bgClassName!=c)return a.className=b,a.bgClassName=c,!0})}),hideLine:t(function(a){return ac(a,!0)}),showLine:t(function(a){return ac(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!e(a))return null;a=g(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!e(a))return null;var b=a;a=g(a);if(!a)return null}else if(b=
pa(a),null==b)return null;var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className,bgClass:a.bgClassName}},getViewport:function(){return{from:S,to:U}},addWidget:function(a,b,c,e,f){a=va(M(a));var g=a.yBot,j=a.x;b.style.position="absolute";sa.appendChild(b);if("over"==e)g=a.y;else if("near"==e){e=Math.max(s.offsetHeight,v.height*ra());var k=Math.max(sa.clientWidth,N.clientWidth)-N.offsetLeft;a.yBot+b.offsetHeight>e&&a.y>b.offsetHeight&&
(g=a.y-b.offsetHeight);j+b.offsetWidth>k&&(j=k-b.offsetWidth)}b.style.top=g+N.offsetTop+"px";b.style.left=b.style.right="";"right"==f?(j=sa.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==f?j=0:"middle"==f&&(j=(sa.clientWidth-b.offsetWidth)/2),b.style.left=j+N.offsetLeft+"px");c&&Cc(j,g,j+b.offsetWidth,g+b.offsetHeight)},lineCount:function(){return v.size},clipPos:M,getCursor:function(a){null==a&&(a=f.inverted);return{line:(a?f.from:f.to).line,ch:(a?f.from:f.to).ch}},somethingSelected:function(){return!C(f.from,
f.to)},setCursor:t(function(a,b,c){null==b&&"number"==typeof a.line?Ea(a.line,a.ch,c):Ea(a,b,c)}),setSelection:t(function(a,b,c){(c?ja:eb)(M(a),M(b||a))}),getLine:function(a){if(e(a))return g(a).text},getLineHandle:function(a){if(e(a))return g(a)},setLine:t(function(a,b){e(a)&&P(b,{line:a,ch:0},{line:a,ch:g(a).text.length})}),removeLine:t(function(a){e(a)&&P("",{line:a,ch:0},M({line:a+1,ch:0}))}),replaceRange:t(P),getRange:function(a,b,c){return yc(M(a),M(b),c)},triggerOnKeyDown:t(sc),execCommand:function(a){return Sb[a](H)},
moveH:t(function(a,b){var c=0>a?f.from:f.to;if(la||C(f.from,f.to))c=Na(a,b);Ea(c.line,c.ch,!0)}),deleteH:t(function(a,b){C(f.from,f.to)?0>a?P("",Na(a,b),f.to):P("",f.from,Na(a,b)):P("",f.from,f.to);Bb=!0}),moveV:t(function(a,b){var c=va(f.inverted?f.from:f.to,!0);null!=Cb&&(c.x=Cb);if("page"==b)var e=Math.min(s.clientHeight,window.innerHeight||document.documentElement.clientHeight),e=Kb(c.x,c.y+e*a);else"line"==b&&(e=ra(),e=Kb(c.x,c.y+0.5*e+a*e));"page"==b&&(D.scrollTop+=va(e,!0).y-c.y);Ea(e.line,
e.ch,!0);Cb=c.x}),toggleOverwrite:function(){yb?(yb=!1,Y.className=Y.className.replace(" CodeMirror-overwrite","")):(yb=!0,Y.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;v.iter(0,v.size,function(e){e=e.text.length+1;if(e>a)return c=a,!0;a-=e;++b});return M({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;v.iter(0,a.line,function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(s.scrollLeft=a);null!=b&&(D.scrollTop=s.scrollTop=
b);Ca([])},getScrollInfo:function(){return{x:s.scrollLeft,y:D.scrollTop,height:D.scrollHeight,width:s.scrollWidth}},setSize:function(a,b){function c(a){a=String(a);return/^\d+$/.test(a)?a+"px":a}null!=a&&(Z.style.width=c(a));null!=b&&(s.style.height=c(b));H.refresh()},operation:function(a){return t(a)()},compoundChange:function(a){return oc(a)},refresh:function(){Ca(!0,null,xa);D.scrollHeight>xa&&(D.scrollTop=xa)},getInputField:function(){return y},getWrapperElement:function(){return Z},getScrollerElement:function(){return s},
getGutterElement:function(){return aa}},rc,Tb=null,ha="";Ib.prototype.clear=t(function(){for(var a=Infinity,b=-Infinity,c=0;c<this.lines.length;++c){var e=this.lines[c],f=ta(e.markedSpans,this,!0);if(null!=f.from||null!=f.to)e=pa(e),a=Math.min(a,e),b=Math.max(b,e)}Infinity!=a&&ua.push({from:a,to:b+1});this.lines.length=0});Ib.prototype.find=function(){for(var a,b,c=0;c<this.lines.length;++c){var e=this.lines[c],f=ta(e.markedSpans,this);if(null!=f.from||null!=f.to)e=pa(e),null!=f.from&&(a={line:e,
ch:f.from}),null!=f.to&&(b={line:e,ch:f.to})}return"bookmark"==this.type?a:a&&{from:a,to:b}};var dc,Ic,Wa,Kc,Jc=0,fc,gc={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},xb=0,hb;for(hb in Pb)Pb.propertyIsEnumerable(hb)&&!H.propertyIsEnumerable(hb)&&(H[hb]=Pb[hb]);return H}function ca(a){return"string"==typeof a?wa[a]:a}function O(a,b,c,e,g){function k(b){b=ca(b);var c=b[a];if(!1===c)return g&&g(),!0;if(null!=c&&e(c))return!0;if(b.nofallthrough)return g&&g(),!0;b=b.fallthrough;if(null==b)return!1;
if("[object Array]"!=Object.prototype.toString.call(b))return k(b);for(var c=0,h=b.length;c<h;++c)if(k(b[c]))return!0;return!1}return b&&k(b)?!0:k(c)}function V(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},e;for(e in b){var g=b[e];g instanceof Array&&(g=g.concat([]));c[e]=g}return c}function Fa(a,b,c){return a.startState?a.startState(b,c):!0}function B(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function ta(a,b,c){if(a)for(var e=0;e<a.length;++e){var g=a[e];
if(g.marker==b)return c&&a.splice(e,1),g}}function E(a){return"string"==typeof a?a:a.text}function J(a){return"string"==typeof a?null:a.markedSpans}function w(a,b){return b?{text:a,markedSpans:b}:a}function h(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c){var e=b[c].marker.lines,g=Ob(e,a);e.splice(g,1)}a.markedSpans=null}}function p(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.lines.push(a);a.markedSpans=b}}function u(a,b){this.text=a;this.height=1;p(this,b)}function Xa(a){this.lines=
a;this.parent=null;for(var b=0,c=a.length,e=0;b<c;++b)a[b].parent=this,e+=a[b].height;this.height=e}function ga(a){this.children=a;for(var b=0,c=0,e=0,g=a.length;e<g;++e){var k=a[e],b=b+k.chunkSize(),c=c+k.height;k.parent=this}this.size=b;this.height=c;this.parent=null}function pa(a){if(null==a.parent)return null;var b=a.parent;a=Ob(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var e=0;c.children[e]!=b;++e)a+=c.children[e].chunkSize();return a}function T(a,b){var c=0;a:do{for(var e=0,g=a.children.length;e<
g;++e){var k=a.children[e],q=k.height;if(b<q){a=k;continue a}b-=q;c+=k.chunkSize()}return c}while(!a.lines);e=0;for(g=a.lines.length;e<g;++e){k=a.lines[e].height;if(b<k)break;b-=k}return c+e}function $b(a,b){var c=0;a:do{for(var e=0,g=a.children.length;e<g;++e){var k=a.children[e],q=k.chunkSize();if(b<q){a=k;continue a}b-=q;c+=k.height}return c}while(!a.lines);for(e=0;e<b;++e)c+=a.lines[e].height;return c}function Nb(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=!1}function ib(){kb(this)}
function Za(a){a.stop||(a.stop=ib);return a}function K(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function jb(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function kb(a){K(a);jb(a)}function Nc(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));pb&&(a.ctrlKey&&1==b)&&(b=3);return b}function da(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function z(a,b,c,e){if("function"==typeof a.addEventListener){if(a.addEventListener(b,
c,!1),e)return function(){a.removeEventListener(b,c,!1)}}else{var g=function(a){c(a||window.event)};a.attachEvent("on"+b,g);if(e)return function(){a.detachEvent("on"+b,g)}}}function kc(){this.id=null}function Na(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var e=0,g=0;e<b;++e)"\t"==a.charAt(e)?g+=c-g%c:++g;return g}function Ua(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(e){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var g=document.documentElement||
document.body.parentNode;null==g.scrollTop&&(g=document.body);c.top+=g.scrollTop;c.left+=g.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c}function Ec(a){for(;Oa.length<=a;)Oa.push(ma(Oa)+" ");return Oa[a]}function ma(a){return a[a.length-1]}function C(a,b){return a.line==b.line&&a.ch==b.ch}function Q(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function A(a,b,c,e){a=document.createElement(a);c&&(a.className=c);e&&(a.style.cssText=e);if("string"==typeof b)Qb(a,
b);else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function La(a){a.innerHTML="";return a}function Qb(a,b){ec?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.textContent=b}function Ob(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,e=a.length;c<e;++c)if(a[c]==b)return c;return-1}function Fb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}l.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,
electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(a){return a}};var Zb=/AppleWebKit/.test(navigator.userAgent)&&
/Mobile\/\w+/.test(navigator.userAgent),pb=Zb||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Pa=l.modes={},ya=l.mimeModes={};l.defineMode=function(a,b){!l.defaults.mode&&"null"!=a&&(l.defaults.mode=a);if(2<arguments.length){b.dependencies=[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}Pa[a]=b};l.defineMIME=function(a,b){ya[a]=b};l.resolveMode=function(a){if("string"==typeof a&&ya.hasOwnProperty(a))a=ya[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return l.resolveMode("application/xml");
return"string"==typeof a?{name:a}:a||{name:"null"}};l.getMode=function(a,b){b=l.resolveMode(b);var c=Pa[b.name];if(!c)return l.getMode(a,"text/plain");c=c(a,b);if(Ga.hasOwnProperty(b.name)){var e=Ga[b.name],g;for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g])}c.name=b.name;return c};l.listModes=function(){var a=[],b;for(b in Pa)Pa.propertyIsEnumerable(b)&&a.push(b);return a};l.listMIMEs=function(){var a=[],b;for(b in ya)ya.propertyIsEnumerable(b)&&a.push({mime:b,mode:ya[b]});return a};var Pb=l.extensions=
{};l.defineExtension=function(a,b){Pb[a]=b};var Ga=l.modeExtensions={};l.extendMode=function(a,b){var c=Ga.hasOwnProperty(a)?Ga[a]:Ga[a]={},e;for(e in b)b.hasOwnProperty(e)&&(c[e]=b[e])};var Sb=l.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),e=!C(b,c);!e&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,{line:b.line+1,ch:0}):a.replaceRange("",b,e?c:{line:b.line})},deleteLine:function(a){var b=a.getCursor().line;
a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,
"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,
"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-
1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},wa=l.keyMap={};wa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};
wa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess",
"Ctrl-]":"indentMore",fallthrough:"basic"};wa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace",
"Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};wa["default"]=pb?wa.macDefault:wa.pcDefault;wa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine",
"Ctrl-T":"transposeChars"};l.fromTextArea=function(a,b){function c(){a.value=h.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);if(null==b.autofocus){var e=document.body;try{e=document.activeElement}catch(g){}b.autofocus=e==a||null!=a.getAttribute("autofocus")&&e==document.body}if(a.form){var k=z(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var q=a.form.submit;a.form.submit=function Qc(){c();a.form.submit=q;a.form.submit();a.form.submit=Qc}}}a.style.display=
"none";var h=l(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);h.save=c;h.getTextArea=function(){return a};h.toTextArea=function(){c();a.parentNode.removeChild(h.getWrapperElement());a.style.display="";a.form&&(k(),"function"==typeof a.form.submit&&(a.form.submit=q))};return h};var fb=/gecko\/\d{7}/i.test(navigator.userAgent),Ja=/MSIE \d/.test(navigator.userAgent),hc=/MSIE [1-7]\b/.test(navigator.userAgent),ec=/MSIE [1-8]\b/.test(navigator.userAgent),Tc=Ja&&5==document.documentMode,vb=
/WebKit\//.test(navigator.userAgent),F=/Chrome\//.test(navigator.userAgent),Aa=/Opera\//.test(navigator.userAgent),mc=/Apple Computer/.test(navigator.vendor),jc=/KHTML\//.test(navigator.userAgent),Vc=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);l.copyState=V;l.startState=Fa;l.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);b=c.state;a=c.mode}return c||{mode:a,state:b}};B.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||
void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,
this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Na(this.string,this.start,this.tabSize)},indentation:function(){return Na(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){if((c?this.string.toLowerCase():this.string).indexOf(c?a.toLowerCase():a,this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,
this.pos)}};l.StringStream=B;var Ya=" ";fb||Ja&&!hc?Ya="\u200b":Aa&&(Ya="");u.prototype={update:function(a,b){this.text=a;this.stateAfter=this.styles=null;h(this);p(this,b)},highlight:function(a,b,c){c=new B(this.text,c);var e=this.styles||(this.styles=[]),g=e.length=0;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var k=a.token(c,b),q=c.current();c.start=c.pos;g&&e[g-1]==k?e[g-2]+=q:q&&(e[g++]=q,e[g++]=k);if(5E3<c.pos){e[g++]=this.text.slice(c.pos);e[g++]=null;break}}},process:function(a,
b,c){c=new B(this.text,c);for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol()&&5E3>=c.pos;)a.token(c,b),c.start=c.pos},getTokenAt:function(a,b,c,e){for(c=new B(this.text,c);c.pos<e&&!c.eol();){c.start=c.pos;var g=a.token(c,b)}return{start:c.start,end:c.pos,string:c.current(),className:g||null,state:b}},indentation:function(a){return Na(this.text,null,a)},getContent:function(a,b,c){function e(b,c,e){if(c){k&&(Ja&&" "==c.charAt(0))&&(c="\u00a0"+c.slice(1));k=!1;if(h.test(c))for(var g=document.createDocumentFragment(),
l=0;;){h.lastIndex=l;var w=h.exec(c),p=w?w.index-l:c.length-l;p&&(g.appendChild(document.createTextNode(c.slice(l,l+p))),q+=p);if(!w)break;l+=p+1;"\t"==w[0]?(w=a-q%a,g.appendChild(A("span",Ec(w),"cm-tab")),q+=w):(p=A("span","\u2022","cm-invalidchar"),p.title="\\u"+w[0].charCodeAt(0).toString(16),g.appendChild(p),q+=1)}else{q+=c.length;var g=document.createTextNode(c)}e?b.appendChild(A("span",[g],e)):b.appendChild(g)}}function g(a){return!a?null:"cm-"+a.replace(/ +/g," cm-")}var k=!0,q=0,h=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,
l=A("pre"),w=e;if(null!=b)var p=0,u=l.anchor=A("span"),w=function(a,g,k){var q=g.length;if(b>=p&&b<p+q){b>p&&(e(a,g.slice(0,b-p),k),c&&a.appendChild(A("wbr")));a.appendChild(u);var h=b-p;e(u,Aa?g.slice(h,h+1):g.slice(h),k);Aa&&e(a,g.slice(h+1),k);b--;p+=q}else p+=q,e(a,g,k),p==b&&p==J?(Qb(u,Ya),a.appendChild(u)):p>b+10&&/\s/.test(g)&&(w=function(){})};var z=this.styles,C=this.text,R=this.markedSpans,J=C.length;if(!C&&null==b)w(l," ");else if(!R||!R.length)for(R=C=0;R<J;C+=2){var T=z[C],pa=z[C+1],
B=T.length;R+B>J&&(T=T.slice(0,J-R));R+=B;w(l,T,g(pa))}else{R.sort(function(a,b){return a.from-b.from});for(var C=T=0,B="",F=R[0].from||0,K=[],O=0;T<J;){if(F==T){for(F=void 0;O<R.length&&((F=R[O]).from==T||null==F.from);)"range"==F.marker.type&&K.push(F),++O;for(var F=O<R.length?R[O].from:Infinity,P=0;P<K.length;++P){var E=K[P].to;null==E&&(E=Infinity);E==T?K.splice(P--,1):F=Math.min(E,F)}}for(P=Math.min(J,F);;){if(B){for(var E=T+B.length,ga=pa,V=0;V<K.length;++V){var Q=K[V],ga=(ga?ga+" ":"")+Q.marker.style;
Q.marker.endStyle&&Q.to===Math.min(E,P)&&(ga+=" "+Q.marker.endStyle);Q.marker.startStyle&&Q.from===T&&(ga+=" "+Q.marker.startStyle)}w(l,E>P?B.slice(0,P-T):B,ga);if(E>=P){B=B.slice(P-T);T=P;break}T=E}B=z[C++];pa=g(z[C++])}}}return l},cleanUp:function(){this.parent=null;h(this)}};Xa.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var e=a,g=a+b;e<g;++e){var k=this.lines[e];this.height-=k.height;k.cleanUp();if(k.handlers)for(var h=0;h<k.handlers.length;++h)c.push(k.handlers[h])}this.lines.splice(a,
b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};ga.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var e=0;e<this.children.length;++e){var g=this.children[e],k=g.chunkSize();if(a<k){var h=Math.min(b,k-
a),l=g.height;g.remove(a,h,c);this.height-=l-g.height;k==h&&(this.children.splice(e--,1),g.parent=null);if(0==(b-=h))break;a=0}else a-=k}25>this.size-b&&(a=[],this.collapse(a),this.children=[new Xa(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,e=0,g=b.length;e<g;++e)c+=b[e].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var e=0,g=
this.children.length;e<g;++e){var k=this.children[e],h=k.chunkSize();if(a<=h){k.insertHeight(a,b,c);if(k.lines&&50<k.lines.length){for(;50<k.lines.length;)a=k.lines.splice(k.lines.length-25,25),a=new Xa(a),k.height-=a.height,this.children.splice(e+1,0,a),a.parent=this;this.maybeSpill()}break}a-=h}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new ga(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=Ob(a.parent.children,
a);a.parent.children.splice(c+1,0,b)}else c=new ga(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var e=0,g=this.children.length;e<g;++e){var k=this.children[e],h=k.chunkSize();if(a<h){h=Math.min(b,h-a);if(k.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=h}}};Nb.prototype={addChange:function(a,b,c){this.undone.length=0;var e=+new Date,g=ma(this.done),k=g&&ma(g),
h=e-this.time;if(this.compound&&g&&!this.closed)g.push({start:a,added:b,old:c});else if(400<h||!k||this.closed||k.start>a+c.length||k.start+k.added<a)this.done.push([{start:a,added:b,old:c}]),this.closed=!1;else{for(var g=Math.max(0,k.start-a),h=Math.max(0,a+c.length-(k.start+k.added)),l=g;0<l;--l)k.old.unshift(c[l-1]);for(l=h;0<l;--l)k.old.push(c[c.length-l]);g&&(k.start=a);k.added+=b-(c.length-g-h)}this.time=e},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||
(this.closed=!0)}};l.e_stop=kb;l.e_preventDefault=K;l.e_stopPropagation=jb;l.connect=z;kc.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var pc=l.Pass={toString:function(){return"CodeMirror.Pass"}},lc;if(ec)lc=!1;else{var Ha=A("div");lc="draggable"in Ha||"dragDrop"in Ha}Ha=A("textarea");Ha.value="foo\nbar";Ha.value.indexOf("\r");var Jb=/^$/;fb?Jb=/$'/:mc?Jb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:F&&(Jb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);
var Oa=[""],lb=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],e=a.length;b<=e;){var g=a.indexOf("\n",b);-1==g&&(g=a.length);var k=a.slice(b,"\r"==a.charAt(g-1)?g-1:g),h=k.indexOf("\r");-1!=h?(c.push(k.slice(0,h)),b+=h+1):(c.push(k),b=g+1)}return c}:function(a){return a.split(/\r\n?|\n/)};l.splitLines=lb;var Sc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||
b.parentElement()!=a?!1:0!=b.compareEndPoints("StartToEnd",b)};l.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});l.defineMIME("text/plain","null");var Ia={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",
189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};l.keyNames=Ia;for(F=0;10>F;F++)Ia[F+48]=String(F);for(F=65;90>=F;F++)Ia[F]=String.fromCharCode(F);for(F=1;12>=F;F++)Ia[F+111]=Ia[F+63235]="F"+F;l.version="2.34";return l}();
CodeMirror.runMode=function(l,ca,O,V){function Fa(h){return h.replace(/[<&]/,function(h){return"<"==h?"&lt;":"&amp;"})}ca=CodeMirror.getMode(CodeMirror.defaults,ca);var B=1==O.nodeType,ta=V&&V.tabSize||CodeMirror.defaults.tabSize;if(B){var E=O,J=[],w=0;O=function(h,l){if("\n"==h)J.push("<br>"),w=0;else{for(var p="",u=0;;){var B=h.indexOf("\t",u);if(-1==B){p+=Fa(h.slice(u));w+=h.length-u;break}else{w+=B-u;p+=Fa(h.slice(u,B));u=ta-w%ta;w+=u;for(var E=0;E<u;++E)p+=" ";u=B+1}}l?J.push('<span class="cm-'+
Fa(l)+'">'+p+"</span>"):J.push(p)}}}l=CodeMirror.splitLines(l);V=CodeMirror.startState(ca);for(var h=0,p=l.length;h<p;++h){h&&O("\n");for(var u=new CodeMirror.StringStream(l[h]);!u.eol();){var Xa=ca.token(u,V);O(u.current(),Xa,h,u.start);u.start=u.pos}}B&&(E.innerHTML=J.join(""))};
CodeMirror.defineMode("mysql",function(l){function ca(l,h){var p=l.next();B=null;if("$"==p||"?"==p)return l.match(/^[\w\d]*/),"variable-2";if("<"==p&&!l.match(/^[\s\u00a0=]/,!1))return l.match(/^[^\s\u00a0>]*>?/),"atom";if('"'==p||"'"==p)return h.tokenize=function(h,l){for(var w=!1,u;null!=(u=h.next());){if(u==p&&!w){l.tokenize=ca;break}w=!w&&"\\"==u}return"string"},h.tokenize(l,h);if("`"==p)return h.tokenize=function(h,l){for(var w=!1,u;null!=(u=h.next());){if(u==p&&!w){l.tokenize=ca;break}w=!w&&
"\\"==u}return"variable-2"},h.tokenize(l,h);if(/[{}\(\),\.;\[\]]/.test(p))return B=p,null;if("-"==p){if("-"==l.next())return l.skipToEnd(),"comment"}else{if(J.test(p))return l.eatWhile(J),null;if(":"==p)return l.eatWhile(/[\w\d\._\-]/),"atom";l.eatWhile(/[_\w\d]/);if(l.eat(":"))return l.eatWhile(/[\w\d_\-]/),"atom";var u=l.current();return ta.test(u)?null:E.test(u)?"keyword":"variable"}}function O(l,h,p){l.context={prev:l.context,indent:l.indent,col:p,type:h}}function V(l){l.indent=l.context.indent;
l.context=l.context.prev}var Fa=l.indentUnit,B,ta=/^(?:str|lang|langmatches|datatype|bound|sameterm|isiri|isuri|isblank|isliteral|union|a)$/i,E=RegExp("^(?:ACCESSIBLE|ALTER|AS|BEFORE|BINARY|BY|CASE|CHARACTER|COLUMN|CONTINUE|CROSS|CURRENT_TIMESTAMP|DATABASE|DAY_MICROSECOND|DEC|DEFAULT|DESC|DISTINCT|DOUBLE|EACH|ENCLOSED|EXIT|FETCH|FLOAT8|FOREIGN|GRANT|HIGH_PRIORITY|HOUR_SECOND|IN|INNER|INSERT|INT2|INT8|INTO|JOIN|KILL|LEFT|LINEAR|LOCALTIME|LONG|LOOP|MATCH|MEDIUMTEXT|MINUTE_SECOND|NATURAL|NULL|OPTIMIZE|OR|OUTER|PRIMARY|RANGE|READ_WRITE|REGEXP|REPEAT|RESTRICT|RIGHT|SCHEMAS|SENSITIVE|SHOW|SPECIFIC|SQLSTATE|SQL_CALC_FOUND_ROWS|STARTING|TERMINATED|TINYINT|TRAILING|UNDO|UNLOCK|USAGE|UTC_DATE|VALUES|VARCHARACTER|WHERE|WRITE|ZEROFILL|ALL|AND|ASENSITIVE|BIGINT|BOTH|CASCADE|CHAR|COLLATE|CONSTRAINT|CREATE|CURRENT_TIME|CURSOR|DAY_HOUR|DAY_SECOND|DECLARE|DELETE|DETERMINISTIC|DIV|DUAL|ELSEIF|EXISTS|FALSE|FLOAT4|FORCE|FULLTEXT|HAVING|HOUR_MINUTE|IGNORE|INFILE|INSENSITIVE|INT1|INT4|INTERVAL|ITERATE|KEYS|LEAVE|LIMIT|LOAD|LOCK|LONGTEXT|MASTER_SSL_VERIFY_SERVER_CERT|MEDIUMINT|MINUTE_MICROSECOND|MODIFIES|NO_WRITE_TO_BINLOG|ON|OPTIONALLY|OUT|PRECISION|PURGE|READS|REFERENCES|RENAME|REQUIRE|REVOKE|SCHEMA|SELECT|SET|SPATIAL|SQLEXCEPTION|SQL_BIG_RESULT|SSL|TABLE|TINYBLOB|TO|TRUE|UNIQUE|UPDATE|USING|UTC_TIMESTAMP|VARCHAR|WHEN|WITH|YEAR_MONTH|ADD|ANALYZE|ASC|BETWEEN|BLOB|CALL|CHANGE|CHECK|CONDITION|CONVERT|CURRENT_DATE|CURRENT_USER|DATABASES|DAY_MINUTE|DECIMAL|DELAYED|DESCRIBE|DISTINCTROW|DROP|ELSE|ESCAPED|EXPLAIN|FLOAT|FOR|FROM|GROUP|HOUR_MICROSECOND|IF|INDEX|INOUT|INT|INT3|INTEGER|IS|KEY|LEADING|LIKE|LINES|LOCALTIMESTAMP|LONGBLOB|LOW_PRIORITY|MEDIUMBLOB|MIDDLEINT|MOD|NOT|NUMERIC|OPTION|ORDER|OUTFILE|PROCEDURE|READ|REAL|RELEASE|REPLACE|RETURN|RLIKE|SECOND_MICROSECOND|SEPARATOR|SMALLINT|SQL|SQLWARNING|SQL_SMALL_RESULT|STRAIGHT_JOIN|THEN|TINYTEXT|TRIGGER|UNION|UNSIGNED|USE|UTC_TIME|VARBINARY|VARYING|WHILE|XOR|FULL|COLUMNS|MIN|MAX|STDEV|COUNT)$",
"i"),J=/[*+\-<>=&|]/;return{startState:function(){return{tokenize:ca,context:null,indent:0,col:0}},token:function(l,h){l.sol()&&(h.context&&null==h.context.align&&(h.context.align=!1),h.indent=l.indentation());if(l.eatSpace())return null;var p=h.tokenize(l,h);"comment"!=p&&(h.context&&null==h.context.align&&"pattern"!=h.context.type)&&(h.context.align=!0);if("("==B)O(h,")",l.column());else if("["==B)O(h,"]",l.column());else if("{"==B)O(h,"}",l.column());else if(/[\]\}\)]/.test(B)){for(;h.context&&
"pattern"==h.context.type;)V(h);h.context&&B==h.context.type&&V(h)}else"."==B&&h.context&&"pattern"==h.context.type?V(h):/atom|string|variable/.test(p)&&h.context&&(/[\}\]]/.test(h.context.type)?O(h,"pattern",l.column()):"pattern"==h.context.type&&!h.context.align&&(h.context.align=!0,h.context.col=l.column()));return p},indent:function(l,h){var p=h&&h.charAt(0),u=l.context;if(/[\]\}]/.test(p))for(;u&&"pattern"==u.type;)u=u.prev;p=u&&p==u.type;return u?"pattern"==u.type?u.col:u.align?u.col+(p?0:1):
u.indent+(p?0:Fa):0}}});CodeMirror.defineMIME("text/x-mysql","mysql");CodeMirror.defineExtension("canHighlight",function(){return!0});CodeMirror.defineExtension("highlightSql",function(l,ca,O){CodeMirror.runMode(O,"text/x-mysql",l.get(0))});CodeMirror.defineExtension("lastLine",function(){return this.lineCount()});CodeMirror.defineExtension("jumpToLine",function(l){this.setCursor(l,null)});
